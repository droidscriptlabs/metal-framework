<!DOCTYPE html>
<html>
    <head>
        <title>Material</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style type="text/css"></style>
    </head>

    <body>
        <div data-role="page" data-theme="a">
            <div data-role="header" data-position="fixed">
                <a
                    href="#"
                    class="ui-btn-left"
                    data-icon="arrow-l"
                    data-theme="c"
                    onclick="history.back(); return false"
                    >Back</a
                >
                <h1>$suspense</h1>
            </div>

            <div data-role="content">
                <style>
                    .jump {
                        line-height: 1.5em;
                    }
                </style>

                <script>
                    function OpenUrl(url, type, choose) {
                        if (navigator.userAgent.indexOf("Android") > -1) {
                            prompt(
                                "#",
                                "App.OpenUrl(\f" +
                                    url +
                                    "\f" +
                                    type +
                                    "\f" +
                                    choose
                            );
                            return false;
                        } else return true;
                    }
                </script>

                <p>
                    The <b>`$suspense`</b> function lets you how an element
                    whilst an async function runs, once completed with positive
                    feedback the other is shown.
                </p>

                <p>
                    Suspense can be used for splashscreens and loadingscreens
                    while data is being fetched.
                </p>

                <div class="samp">
                    &nbsp;let theme = $suspense(resource, fallback,
                    controlInSuspension)
                </div>

                <p>
                    Always use the 'effects' function to run functions like
                    showIF after suspense
                </p>
                <p>Here is an example of suspense:</p>

                <div
                    data-role="collapsible"
                    data-collapsed="true"
                    data-mini="true"
                    data-theme="a"
                    data-content-theme="b"
                >
                    <h3>Example - $suspense</h3>
                    <div id="main" class="code-js" style="font-size: 70%">
                        <br />app.LoadPlugin('Metro')<br />
                        <b id="cfg">cfg.Portrait</b><br /><br />

                        class Main extends App {<br />
                        &nbsp;&nbsp;constructor() {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;super();<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;this.layMain =
                        ui.addLayout("main", "linear", "fillxy,vcenter");<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;this.txt =
                        ui.addText(this.layMain, "My Hybrid app");<br />
                        &nbsp;&nbsp;}<br /><br />

                        &nbsp;&nbsp;loadData() {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;return new Promise(function
                        (resolve, reject) {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(function
                        () {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve("Data
                        loaded successfully!");<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}, 3000);<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;});<br />
                        &nbsp;&nbsp;}<br /><br />

                        &nbsp;&nbsp;onStart() {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;this.layMain.setChildMargins(0.02,
                        0.02, 0.02, 0.02);<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;let prog =
                        ui.addProgress(this.layMain, null,
                        "Linear,Secondary,indeterminate", 0.7);<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;let btn =
                        ui.addButton(this.layMain, "My Button", "primary");<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;let outlinebtn =
                        $component(this.layMain, "button", -1, -1, {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textContent: "Hello
                        World",<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;}).css`<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;border: 2px solid #6200ea;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;color: #6200ea;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;background-color:
                        transparent;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;font-family: "Archivo",
                        sans-serif;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;font-weight: 500;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;font-size: 1rem;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;text-align: center;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;cursor: pointer;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;padding: 0.5rem 1rem;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;transition: background-color
                        0.3s, color 0.3s;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&:hover {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background-color:
                        #6200ea;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color:
                        white;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;&:active {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background-color:
                        #3700b3;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border-color:
                        #3700b3;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;}`.on("click", function (e) {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.stopPropagation();<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ui.showPopup("Clicked
                        Custom Button");<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;});<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;$suspense(this.loadData, prog,
                        this.layMain).effects(() => {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$showIF(true,
                        outlinebtn, btn);<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;});<br />
                        &nbsp;&nbsp;}<br />
                        }<br />
                    </div>

                    <div name="divCopy" align="right">
                        <a
                            href="#"
                            data-role="button"
                            data-mini="true"
                            data-inline="true"
                            onclick="copy('main')"
                            >Copy All</a
                        >
                        <a
                            href="#"
                            data-role="button"
                            data-mini="true"
                            data-inline="true"
                            onclick="demo('main')"
                            >&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a
                        >
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
