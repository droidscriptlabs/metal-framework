<!DOCTYPE html>
<html>
    <head>
        <title>Material</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style type="text/.batch"></style>
    </head>

    <body>
        <div data-role="page" data-theme="a">
            <div data-role="header" data-position="fixed">
                <a
                    href="#"
                    class="ui-btn-left"
                    data-icon="arrow-l"
                    data-theme="c"
                    onclick="history.back(); return false"
                    >Back</a
                >
                <h1>.batch</h1>
            </div>

            <div data-role="content">
                <style>
                    .jump {
                        line-height: 1.5em;
                    }
                </style>

                <script>
                    function OpenUrl(url, type, choose) {
                        if (navigator.userAgent.indexOf("Android") > -1) {
                            prompt(
                                "#",
                                "App.OpenUrl(\f" +
                                    url +
                                    "\f" +
                                    type +
                                    "\f" +
                                    choose
                            );
                            return false;
                        } else return true;
                    }
                </script>

                <p>
                    The <b>`.batch`</b> function lets you perfom ui method/DOM
                    updates in an optimized manner by using
                    requestAnimationFrame to perfomantly perfom updates.
                </p>

                <p>
                    If your are using batch on a ui Control you will be exposed
                    to using ui methods, but if you are using addHTMLElement or
                    $component you will be able to perfom DOM updates.
                </p>

                <div class="samp">&nbsp;this.btn.batch({})</div>

                <p>Here is an example of using .batch:</p>

                <div
                    data-role="collapsible"
                    data-collapsed="true"
                    data-mini="true"
                    data-theme="a"
                    data-content-theme="b"
                >
                    <h3>Example - .batch</h3>
                    <div id="main" class="code-js" style="font-size: 70%">
                        <br />app.LoadPlugin('Metro')<br />
                        <b id="cfg">cfg.Portrait</b><br /><br />

                        class Main extends App {<br />
                        &nbsp;&nbsp;constructor() {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;super();<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;this.layMain =
                        ui.addLayout("main", "linear", "fillxy,vcenter");<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;this.txt =
                        ui.addText(this.layMain, "My Hybrid app");<br />
                        &nbsp;&nbsp;}<br /><br />

                        &nbsp;&nbsp;onStart() {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;this.layMain.setChildMargins(0.02,
                        0.02, 0.02, 0.02);<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;let btn2 =
                        ui.addButton(this.layMain, "Batch Updates",
                        "outlined");<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;btn2.setOnTouch(() => {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.txt.batch({<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text:
                        'Your Text Has been Changed Permanently',<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disabled:
                        true<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;})<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;})<br /><br />

                        &nbsp;&nbsp;&nbsp;&nbsp;let outlinebtn =
                        $component(this.layMain, "button", -1, -1, {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textContent: "Hello
                        World",<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;}).css`<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;border: 2px solid #6200ea;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;color: #6200ea;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;background-color:
                        transparent;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;font-family: "Archivo",
                        sans-serif;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;font-weight: 500;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;font-size: 1rem;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;text-align: center;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;cursor: pointer;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;padding: 0.5rem 1rem;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;transition: background-color
                        0.3s, color 0.3s;<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;`.on("click", function (e) {<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.stopPropagation();<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outlinebtn.batch({<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textContent:
                        'Howdy I have been changed'<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br />
                        &nbsp;&nbsp;&nbsp;&nbsp;});<br />
                        &nbsp;&nbsp;}<br />
                        }<br />
                    </div>

                    <div name="divCopy" align="right">
                        <a
                            href="#"
                            data-role="button"
                            data-mini="true"
                            data-inline="true"
                            onclick="copy('main')"
                            >Copy All</a
                        >
                        <a
                            href="#"
                            data-role="button"
                            data-mini="true"
                            data-inline="true"
                            onclick="demo('main')"
                            >&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a
                        >
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
